<div ng-controller="contactController as vm">
    <form name="contactForm" class="container-fluid panel panel-default" 
          novalidate ng-submit="vm.sendMessage()">
        <h2>Contact form</h2>
        <div class="col-md-6">
            <div class="form-group"
                 ng-class="{ 'has-error': vm.contactForm.name.$touched && vm.contactForm.name.$invalid }">
                <label for="name">Name</label>
                <input type="text"
                       class="form-control"
                       name="name"
                       ng-model="vm.contactForm.name"
                       ng-minlength="3"
                       ng-maxlength="12"
                       placeholder="Name" required />
            </div>
            <div class="text-danger" ng-messages="vm.contactForm.name.$error" ng-show="vm.contactForm.name.$touched">
                <div ng-messages-include="app/layout/messages.html"></div>
            </div>
            <div class="form-group"
                 ng-class="{ 'has-error': vm.contactForm.email.$touched && vm.contactForm.email.$invalid }">
                <label for="email">Email</label>
                <input type="email"
                       class="form-control"
                       name="email"
                       ng-model="vm.contactForm.email"
                       placeholder="Email" required />
            </div>
            <div class="text-danger" ng-messages="vm.contactForm.email.$error" ng-show="vm.contactForm.email.$touched">
                <div ng-messages-include="app/layout/messages.html"></div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="form-group"
                 ng-class="{ 'has-error': vm.contactForm.message.$touched && vm.contactForm.message.$invalid }">
                <label for="message">Message</label>
                <textarea type="text" rows="5"
                          class="form-control no-resize"
                          name="message"
                          ng-model="vm.contactForm.message"
                          ng-minlength="4"
                          ng-maxlength="400"
                          required />
            </div>
            <div class="text-danger" ng-messages="vm.contactForm.message.$error" ng-show="vm.contactForm.message.$touched">
                <div ng-messages-include="app/layout/messages.html"></div>
            </div>
        </div>
        <div class="col-md-12">
            <div class="form-group text-right">
                <button type="submit"
                        class="btn btn-success"
                        ng-disabled="vm.contactForm.$invalid">
                    Send&nbsp;
                    <span class="glyphicon glyphicon-send"></span>
                </button>
            </div>
        </div>
    </form>
</div>